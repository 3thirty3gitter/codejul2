import React from "react";

// --- START: Re-integrate your AI logic here ---
// Placeholder for your actual message state and send handler.
// Replace this with your `useState`, `useAIChat` hook, etc.
const dummyMessages = [
  { id: "msg-1", text: "User message.", isUser: true, type: "user" },
  { id: "msg-2", text: "AI plan.", isUser: false, type: "plan" },
  { id: "msg-3", text: "AI response.", isUser: false, type: "response" }
];
const handleSendMessage = () => console.log("Sending message...");
// --- END: Re-integrate your AI logic here ---

export default function ApplicationBuilderChat() {
  // Replace `dummyMessages` with your actual messages state variable
  const messages = dummyMessages;

  return (
    <div className="flex flex-col h-full max-h-full">
      <div className="flex-1 overflow-y-auto p-4">
        {messages.map((message, index) => {
          const isUser = message.isUser;
          
          // SAFE: Define classes using string concatenation to avoid Babel errors
          const containerClasses = "flex mb-4 " + (isUser ? "justify-end" : "justify-start");
          const bubbleClasses = "max-w-lg rounded-lg px-4 py-3 " + 
            (isUser 
              ? "bg-blue-600 text-white" 
              : message.type === "plan" 
                ? "bg-green-50 border border-green-200" 
                : "bg-gray-100");

          return (
            <div key={message.id + "-" + index} className={containerClasses}>
              <div className={bubbleClasses}>
                {message.text}
              </div>
            </div>
          );
        })}
      </div>
      <div className="border-t p-4 flex gap-2">
        <input
          className="w-full border rounded px-2 py-1"
          placeholder="Type a message..."
          onKeyDown={(e) => { if (e.key === "Enter") handleSendMessage() }}
        />
        <button
          className="bg-blue-600 text-white px-4 py-1 rounded"
          onClick={handleSendMessage}
        >
          Send
        </button>
      </div>
    </div>
  );
}
